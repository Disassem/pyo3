{% meta %}
    tags: [django, versions]
    title: Django-0.96
{% endmeta %}

{% mark body %}
Вышла новая версия Django, 0.96. Краткий обзор основных новинок.

<!--more-->


<h3>Работа БД</h3>
Во-первых, Django стал использовать новый MySQLdb (старше 1.2.1p2). Однако, если нет возможности обновить MySQLdb, то в настройках БД <code>DATABASE_ENGINE</code> проекта можно указать обратно совместимый <code>mysql_old</code>.

Во-вторых, Django научился использовать SQLite в Python 2.5.

В-третьих, поменялись имена констрейнтов. Так что если вы используете такие команды <code>manage.py</code> как <code>reset</code> для генерации SQL-запросов, то на старых БД скорее всего получите сообщение об ошибке. Разработчики Django рекомендуют вручную адаптировать сгенерированные SQL-запросы.

<h3>Администрирование</h3>
В первую очередь здесь стоит отметить возможность в админке поменять пароль пользователю напрямую, не генерируя ему хеш. Сюда же можно отнести и новые команды к <code>manage.py</code>: <code>dumpdata</code> и <code>loaddata</code> - для выгрузки и загрузки данных. Есть возможность использовать форматы сериализации, поддерживаемыми Django (xml, json и Python-примитивы). Команда <code>sqlinitialdata</code> переименована в <code>sqlcustom</code> для более прозрачнго использования (<code>loaddata</code> для данных, <code>sqlcustom</code> для видов, триггеров, хранимых процедур и др.) Удалена команда <code>install</code>, предлагается использовать <code>syncdb</code>.

<h3>Новые формы</h3>
Добавлены новые формы (<code>newforms</code>), старые еще доступны в этой версии как "просто формы" (<code>forms</code>), но начиная со следующего релиза будут только как "старые формы" (<code>oldforms</code>). Разработчики активно продвигают новинку, однако старые еще рано выбрасывать на свалку истории: в generic views они до сих пор используются.

<h3>Объекты в URLconf</h3>
Теперь в URLconf можно (и нужно) указывать не только строку "с адресом" view, но и явно передавать ее объект. Это не только способствует снижению количества ошибок, но и позволяет применять декораторы (например, login_required) к generic views.

<h3>Тесты</h3>
Django в новой версии предлагает хорошую поддержку юнит-тестов, док-тестов и интеграционных тестов. Думаю, об этом подробнее напишу в отдельной статье.

В целом, если вы используете Django с SVN, то обновление пройдет гладко. Если же вы используете 0.95 или 0.95.1, то могут возникнуть некоторые сложности (к примеру, 0.96 более строго относится к шаблонам).

Более подробно и с примерами - <a href="http://www.djangoproject.com/documentation/release_notes_0.96/">на сайте Django</a>.
{% endmark %}
