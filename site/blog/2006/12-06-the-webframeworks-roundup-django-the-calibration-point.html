{% meta %}
    tags: [django, reviews]
    title: Выбор веб-фреймворка: Django - реперная точка
{% endmeta %}

{% mark body %}
<p>Понадобилось выбрать инструмент для пары внутренних проектов. Полагалось, что часть логики будет в виде Twisted-сервиса, другая часть - в виде отдельных модулей, а &quot;венчать&quot; это всё будет веб-интерфейс. Так что мне предстояло решить, на чем я буду писать веб-интерфейс. Выбор был таким:
</p>
<ul>
 <li>
     <a href="http://djangoproject.com/">Django</a>
 </li>

 <li>
     <a href="http://divmod.org/trac/wiki/DivmodNevow">Nevow</a>
 </li>

 <li>
     <a href="http://www.pylonshq.com/">Pylons</a>
 </li>
</ul>

<p>Люди &quot;в теме&quot; спросят, почему же здесь нет <a href="http://turbogears.org/">TurboGears</a>. Дело просто в том, что я выбирал фреймворки не для сравнения, а для работы, так что критерии выбора были просты: с Django работал ранее, Nevow - <a href="http://twistedmatrix.com/trac/wiki/WebDevelopmentWithTwisted">логичное дополнение</a> к Twisted-сервису, а Pylons просто привлек мое внимание и заинтересовал. Т.е. не то, чтобы TurboGears не дотягивает до этой троицы, просто я от него не в восторге.
</p>
<p>Чтобы решить этот вопрос, я написал модельное приложение, используя каждый из выбранных фреймворков. Сегодня очередь Django.
</p>

<!--more-->

<h2>Сводка</h2>
<p>Поскольку с Django я уже имел дело, то он стал некой &quot;реперной точкой&quot;, относительно которой я и мерил остальные фреймворки. Итак, немного объективной информации о Django:

</p>
<ul>
<li>
     Самоопределение: the web framework for perfectionists with deadlines
 </li>

 <li>
     Сайт: <a href="http://djangoproject.com">http://djangoproject.com</a>
 </li>

 <li>
     Лицензия: BSD
 </li>

 <li>
     Текущая версия: 0.95
 </li>

 <li>
     Используемая мной версия: 0.96pre (svn)
 </li>

 <li>
     Установка: distutils
 </li>

 <li>
     Зависимости: отсутствуют
 </li>

 <li>
     ORM: собственный
 </li>

 <li>
     Шаблоны: собственные
 </li>

 <li>
     Обработка форм: собственная
 </li>

 <li>
     Роутинг: регулярные выражения
 </li>

 <li>
     Пакетирование приложения: не предусмотрено
 </li>

 <li>
     Методы развертывания: mod_python, WSGI
 </li>
</ul>
<p>Поясняю пункты: с сайтом и лицензией вопросов не возникает, установка при помощи distutils означает обычную процедуру получения исходных текстов, разархивирование, <code>python setup.py install</code>. ORM и шаблоны у Django собственные. Что касается роутинга - это способ сопоставления URL и соответствующего обработчика. В случае Django это регулярные выражения. Предпоследний пункт - в случае переноса приложения с машины разработчика на рабочий сервер, придется разработчику самостоятельно подумать над пакетированием приложения. С методами развертывания, надеюсь, вопросов нет - это способы &quot;использования&quot; готового приложения. 
</p>

<h2>Тестовое приложение</h2>

<p>В качестве &quot;подопытного кролика&quot; служит простое веб приложение:
</p>
<ul>
 <li>
     главная страница: статический шаблон, его дизайн используют все остальные страницы, заменяя определенную часть шаблона (блок содержимого)
 </li>

 <li>
     страница с формой: простая форма, после ввода имени, должно появиться приветствие с введенным именем. При попытке отправить форму без имени - вывести информацию о необходимости заполнения поля.
 </li>

 <li>
     страница с повторяющимся фрагментом: страница, в которой один из фрагментов повторяется. Для разнообразия, пусть страница отображает исходный код всего приложения, а повторяющимся фрагментом будет отдельный файл.
 </li>

 <li>
     страница с подстановкой значения: простая страница, в которой один из элементов которой заполняется динамически.
 </li>
</ul>

<h2>Реализация</h2>
<p>Про Django написано много и хорошо (см. например, <a href="http://softwaremaniacs.org/blog/category/django/">блог Ивана Сагалаева</a>), так что я особо останавливаться на нюансах реализации не буду (тем более, их практически нет). Затратив где-то около 40 минут, написал искомое Django-приложение. В ходе написания понадобились документы:

</p>
<ul>
 <li>
     для главной страницы, страницы с повторяющимся фрагментом, страницы с подстановкой значения - <a href="http://www.djangoproject.com/documentation/templates/">Django templates for HTML-authors</a>
 </li>

 <li>
     для страницы с формой - <a href="http://www.djangoproject.com/documentation/forms/">Forms and manipulators</a>

 </li>
</ul>
<p>Особых проблем с Django-версией не возникло, единственная задержка вышла с отключением сессионных и авторизационных middleware. С кодом приложения можете ознакомиться <a href="http://pythy.googlecode.com/svn/trunk/webframeworks/djangoex/">здесь</a>.
</p>
{% endmark %}
